var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,r=(e,r)=>{for(var i in r||(r={}))n.call(r,i)&&o(e,i,r[i]);if(t)for(var i of t(r))s.call(r,i)&&o(e,i,r[i]);return e},i=(e,t,n)=>new Promise((s,o)=>{var r=e=>{try{a(n.next(e))}catch(t){o(t)}},i=e=>{try{a(n.throw(e))}catch(t){o(t)}},a=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,i);a((n=n.apply(e,t)).next())});import{v as a}from"./vue-vendor-4f5e579f.js";import{u as p}from"./authStore-7202ba10.js";const u=a("appointment",{state:()=>({isActive:!1,serviceType:null,currentStep:1,appointmentNo:"",userInfo:{name:"",idCard:"",phone:"",customerId:"",isLoggedIn:!1,gender:""},businessInfo:{type:"",details:{}},branchInfo:{id:null,name:"",address:"",phone:"",distance:0,queueCount:0,businessHours:"",largeCashSupport:!1,newNotesSupport:!1},appointmentDate:null,appointmentTime:""}),actions:{setUserInfo(e){this.userInfo=r(r({},this.userInfo),e)},setBusinessInfo(e){this.businessInfo=r(r({},this.businessInfo),e)},activateAppointment(){this.isActive=!0},setServiceType(e){this.serviceType=e,"deposit"!==e&&"withdrawal"!==e||(this.businessInfo.type=e)},setCurrentStep(e){this.currentStep=e},setAppointmentNo(e){this.appointmentNo=e},setBranchInfo(e){this.branchInfo=r(r({},this.branchInfo),e)},setAppointmentDate(e){this.appointmentDate=e},setAppointmentTime(e){this.appointmentTime=e},clearAppointmentInfo(){this.businessInfo={type:"",details:{}},this.branchInfo={id:null,name:"",address:"",phone:"",distance:0,queueCount:0,businessHours:"",largeCashSupport:!1,newNotesSupport:!1},this.appointmentDate=null,this.appointmentTime=""},checkLoginStatus(){return i(this,null,function*(){try{const e=p();return e.isAuthenticated&&e.userInfo?{name:e.userInfo.name||"",idCard:e.userInfo.idNumber||"",phone:e.userInfo.phone||"",customerId:e.userInfo.customerId||"",isLoggedIn:!0,gender:e.userInfo.gender||""}:null}catch(e){return null}})},checkUserStatus(){return i(this,null,function*(){return(yield this.checkLoginStatus())||this.userInfo})}},getters:{canProceedToConfirm:e=>e.userInfo.name&&e.businessInfo.type&&e.branchInfo.id&&e.appointmentDate&&e.appointmentTime,businessTypeName:e=>({deposit:"存款",withdrawal:"取款",change:"零钱及残币兑换","new-notes":"新钞兑换",changeExchange:"兑换零钱",damagedExchange:"兑换残币/破损币"}[e.businessInfo.type]||"未选择")}});export{u};
